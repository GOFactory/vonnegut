%% -*- erlang -*-
[{lager,
  [{error_logger_hwm, 100},
   {crash_log_count, 5},
   {crash_log_date, "$D0"},
   {crash_log_size, 10485760},
   {crash_log_msg_size, 65536},
   {crash_log, "./log/crash.log"},
   {handlers,
    [{lager_console_backend,
      [{level, info},
       {formatter, lager_default_formatter},
       {formatter_config,
        [time, " [",severity,"] ",
         pid, " ",
         {module, ["mod=", module, {function, [" fun=", function], ""}, " "], ""}, message, "\n"]}]},
     {lager_file_backend,
      [{file, "./log/error.log"},
       {level, error},
       {formatter, lager_default_formatter},
       {formatter_config,
        [time, " [",severity,"] ",
         pid, " ",
         {module, ["mod=", module, {function, [" fun=", function], ""}, " "], ""}, message, "\n"]}]},
     {lager_file_backend,
      [{file, "./log/debug.log"},
       {level, debug},
       {formatter, lager_default_formatter},
       {formatter_config,
        [time, " [",severity,"] ",
         pid, " ",
         {module, ["mod=", module, {function, [" fun=", function], ""}, " "], ""}, message, "\n"]}]}]},
   {error_logger_redirect, true}]},


 "config/shared"
].
